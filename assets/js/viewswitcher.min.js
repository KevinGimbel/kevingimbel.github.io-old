var View=function(e,t){"use strict";function a(e){E={changeTitle:e.changeTitle,setupEvents:e.setupEvents,canDisplayAll:e.canDisplayAll}}function i(){t.addEventListener("click",function(e){if("A"===e.target.nodeName){var t=e.target,a=t.href.indexOf("#")>-1,i=!!t.href.match(/(http|s)/gi);if(a&&i){e.preventDefault();try{var l=t.href.match(/#[a-zA-Z0-9]+/)[0].toString().replace("#","");View.setActive(l)}catch(n){console.error(n)}}}}),f&&this._menu.addEventListener("click",function(e){e.preventDefault();var t=e.target.href.match(/#[a-zA-Z0-9]+/)[0].toString().replace("#","");"all"===t?View.activateAll():View.setActive(t)})}function l(){Array.prototype.forEach.call(S,function(e){e.style.display="block"})}function n(e){if("all"===e)return void View.activateAll();var a="["+v+'="'+e+'"]',i=t.querySelector(a);i||(i=g),View.setTitle(i.dataset[p]),View.setHash(e),Array.prototype.forEach.call(S,function(e){e.style.display="none"}),i.style.display="block"}function c(t){e.location.hash=t}function r(e){if(E.changeTitle){var t=e.slice(0,1),a=e.slice(1),i=t.toUpperCase()+a;d.innerHTML=i+" "+w+" "+A}}function o(t){e.location.hash?View.setActive(e.location.hash.replace("#","")):E.initShowAll&&(console.log("Init active default"),View.setActive(t))}function s(){return y}function u(e){var t="<ul>";return E.canDisplayAll&&(t+='<li class="'+e+'"><a href="#all" id="vs_display_all">All</a></li>'),Array.prototype.forEach.call(S,function(a){"404"===a.dataset.view||"error"===a.dataset.view||a.dataset.viewExclude||(t+='<li class="'+e+'">',t+='<a href="#'+a.dataset[p]+'">',t+=a.dataset[p]+"</a></li>")}),t+="</ul>"}function h(e){"string"==typeof e&&(e=t.querySelector(e)),f=e}var f,v="data-view",p="view",y=e.location.hash,d=t.querySelector("head title"),A=d.textContent,w="&mdash;",g=t.querySelector("["+v+'="error"]'),E={changeTitle:!0,setupEvents:!0,canDisplayAll:!1},S=t.querySelectorAll("["+v+"]");return E.setupEvents&&i(),E.initShowAll&&(console.log(this.options.initShowAll),Array.prototype.forEach.call(S,function(e){e.style.display="none"})),{getHash:s,getHtmlMenu:u,setOptions:a,setHash:c,setActive:n,setTitle:r,setMenu:h,initActive:o,activateAll:l}}(window,document);